<!DOCTYPE html>
<html lang="en">

<head>
    <title>Sean Scissors/Web Dev (In training)</title>
    <link rel="stylesheet" href="style.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        //make sure all the HTML has loaded
        document.addEventListener("DOMContentLoaded", init); //equiv of jQuery's $(document).ready()

        function init() {
            //get header and footer from external html files
            getFile("header.html", document.querySelector("header"), hightlightMenu);
            getFile("footer.html", document.querySelector("footer"));
        }

        function hightlightMenu() {
            var navLinks = document.getElementById("myTopNav").getElementsByTagName("a");
            var current = location.href;

            // Loop through the Navigation links and add the active class to the current/clicked item
            for (var i = 0; i < navLinks.length; i++) {
                if (navLinks[i].href == current) {
                    navLinks[i].href = "";
                    navLinks[i].classList.add("active");
                }
            }
        }

        function getFile(filename, element, callback) {
            //AJAX request for filename (complete filepath string)
            //when retrieved, insert HTML into DOM element
            let request = new Request(filename);
            fetch(request).then((response) => {
                console.log(response); //what is this thing resulting from the ajax call?
                response.text().then((html) => {
                    console.log(html); //is this really an html string?
                    element.innerHTML = html;
                    if ("function" === typeof callback) callback();
                });
            });
        };
    </script>
</head>

<body>
    <header id="header"></header>
    <main class="mainContent">
        <h2 class="webTitle">Sean Scissors - Front-End Web Developer</h2>
        <div align="center">
            <img class="mainImg" src="/images/LinkedInProf.jpg" />
        </div>
        <div class="description">
            <p>I aspire to one day say I am a Senior Full Stack Developer. Until then, I am trying to get my start in the Developer
                industry as a Front-End Dev. Available for hire...</p>
        </div>
    </main>
    <footer id="footer"></footer>
</body>
</html>